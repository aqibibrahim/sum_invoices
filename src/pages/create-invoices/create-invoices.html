<!--
  Generated template for the CreateInvoicesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->


<ion-header >
    <ion-toolbar color="lightblue">
  <!-- <ion-navbar color="lightblue" hideBackButton="true"> -->
      <ion-buttons left>
          <button ion-button icon-only menuToggle start>
              <ion-icon name="menu"></ion-icon>
            </button>
      </ion-buttons>
    
    <ion-title>New Invoice</ion-title>
    <ion-buttons end>
        <button ion-button (click)="invoicedetails()">
        Save As Draft
      </button>
      </ion-buttons>
  <!-- </ion-navbar> -->
  </ion-toolbar>
</ion-header>

<ion-content padding class="my-class">
    
  <ion-card>
  <ion-card-content>
    <ion-row style="border-bottom: 1px solid grey">
      <ion-col col-10>
          <ion-list>
              <ion-item >
                  <ion-label>Contact<span class="required">*</span></ion-label>
                  <ion-select interface="popover" [(ngModel)]="gaming" ionCancel="onCancel()" okText="Ok" (ionChange)="onContactChange()">
                    <ion-option *ngFor="let name of namesList" [value] = "name">{{name.first_name}}</ion-option>
                  </ion-select>
                </ion-item>
               
        </ion-list>
      </ion-col>
      <ion-col col-2>
          <button ion-button icon-only clear (click)="opencontact()" >
              <ion-icon ios="ios-add-circle" md="md-add-circle" style="color: coral;"></ion-icon>
            </button>
      </ion-col>
    </ion-row>
    
    <ion-item>
        <ion-label>Email<span class="required">*</span></ion-label>
      <!-- <ion-input type="email" value="" [(ngModel)]="email"></ion-input> -->
      <ion-input type="email" [(ngModel)]="email"  name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" value="{{this.email}}" required [readonly]="isReadonly()"></ion-input>
</ion-item>
    <ion-item style="border-bottom: 1px solid grey">
      <ion-label fixed>Invoice #<span class="required">*</span></ion-label>
      <ion-input type="number" value="{{this.nativeinvoice}}" [(ngModel)]="invoice"></ion-input>
    </ion-item>
    <ion-item style="border-bottom: 1px solid grey"> 
      <ion-label fixed>Order Number</ion-label>
      <ion-input type="number" value="{{this.nativeorder}}" [(ngModel)]="order"></ion-input>
    </ion-item>
    </ion-card-content>
  
  </ion-card>

  <ion-card>
      <ion-card-content>
          
        <ion-row style="border-bottom: 1px solid grey">
            <ion-col >
                <ion-item style="border-bottom: 1px solid grey">
                    <ion-label floating>Invoice Date<span class="required">*</span></ion-label>
                    <!-- <ion-input type="date" (input)="date = $event.target.value"  [(ngModel)]="invoicedate"></ion-input> -->
                    <ion-datetime displayFormat="DD MMM YYYY" (ionChange)="fecha()" pickerFormat="DD MMM YYYY"  [(ngModel)]="invoicedate" cancelText ="Cancel" doneText="Ok" ></ion-datetime>
                  </ion-item>
            </ion-col>
            <ion-col>
                <ion-item style="border-bottom: 1px solid grey">
                    <ion-label floating>Due Date<span class="required">*</span></ion-label>
                    <ion-datetime displayFormat="DD MMM YYYY" (ionChange)="fecha()" pickerFormat="DD MMM YYYY"  [(ngModel)]="duedate" cancelText ="Cancel" doneText="Ok" ></ion-datetime>
                    <!-- <ion-input type="date" (input)="date = $event.target.value"  [(ngModel)]="duedate"></ion-input> -->
                  </ion-item>
            </ion-col>
          </ion-row>

          <ion-list>
              <ion-item>
                <ion-label color="lightblue">Terms</ion-label>
                <ion-select [(ngModel)]="terms" interface="popover">
                  <ion-option value="noterms">Due on Recipt</ion-option>
                  <ion-option value="dueonreceipt">Nert 15</ion-option>
                  <ion-option value="net15">Net 30</ion-option>
                  <ion-option value="net15">Net 45</ion-option>
                  <ion-option value="net15">Net 60</ion-option>
                  <ion-option value="net15">Due end of the Month</ion-option>
                </ion-select>
              </ion-item>
            </ion-list>
          </ion-card-content>
      

      </ion-card>

      <!-- <ion-card>
        <ion-card-content>
            <ion-list>
                <ion-item>
                  <ion-label color="lightblue">Sales Person</ion-label>
                  <ion-select [(ngModel)]="salesperson" interface="popover">
                    <ion-option value="noterms" selected>None</ion-option>
                    <ion-option value="dueonreceipt">Include in amounts</ion-option>
                    <ion-option value="net15">Not Applicable</ion-option>
                  </ion-select>
                </ion-item>
              </ion-list>
            </ion-card-content>
        </ion-card> -->
        
        <ion-card>
          <ion-card-content>
            <ion-row>
              <ion-col col-10>
                  <ion-list>
                      <ion-item >
                          <ion-label>Item<span class="required">*</span></ion-label>
                          <ion-select #S interface="popover" class="selector" [(ngModel)]="itemname1" ionCancel="onCancel()" okText="Ok" (ionChange)="onItemChange(S.value)" >
                            <ion-option *ngFor="let name of items1" [value] = "name" class="option" text-wrap>{{name.item_name}}</ion-option>
                          </ion-select>
                        </ion-item>
                </ion-list>
              </ion-col>
              <ion-col col-2>
                  <button ion-button icon-only clear (click)="openitem()">
                      <ion-icon ios="ios-add-circle" md="md-add-circle" style="color: coral;"></ion-icon>
                    </button>
              </ion-col>
            </ion-row>
            <ion-row>
                <ion-col >
                    <ion-item style="border-bottom: 1px solid grey">
                        <ion-label floating>Quantity</ion-label>
                        <ion-input type="number" value="1" name="quantity" [(ngModel)]="quantity" (ionChange)="quantitychange()"></ion-input>
                      </ion-item>
                </ion-col>
                <ion-col>
                    <ion-item style="border-bottom: 1px solid grey">
                        <ion-label floating>Rate</ion-label>
                        <!-- <ion-input type="number" value="{{this.value_rate}}" name="rate" [readonly]="isReadonly()" [(ngModel)]="rate" ></ion-input> -->
                        <ion-input type="number" value="{{this.value_rate1}}" name="rate" [(ngModel)]="rate" [readonly]="isReadonly()"></ion-input>
                      </ion-item>
                </ion-col>
              </ion-row> 
                <!-- <button ion-button icon-end clear full (click)='adlineitem()' style="background-color: transparent !important;">
                    Add Line Item
                    <ion-icon name="add"></ion-icon>
                  </button> -->
          
                  <ion-item>

                     
                   
                      <ion-row style="border-bottom: 1px solid lightgrey; height: 33.33%">
                          <ion-col col-6>
                              <ion-item >
                                <h3 >SubTotal</h3>
                                </ion-item>
                        </ion-col>
                        <ion-col col-5>
                          <ion-item>
                              <ion-input type="number" value="{{this.value_rate}}" [(ngModel)]="amount_total" [readonly]="isReadonly()"></ion-input>
                            </ion-item>
                      </ion-col>
                    </ion-row>
              <ion-row>
                  <ion-col col-6>
                        <ion-item >
                          <h4>Discount</h4>
                         
                          </ion-item>
                  </ion-col>
                  <ion-col col-6>
                  <ion-item style="border-bottom: 1px solid lightgrey">
                          <ion-input type="number" placeholder="Discount" [(ngModel)]="discountprice" style="text-align: right" (input)='onInputTime($event.target.value)'></ion-input>
                        </ion-item>
                  </ion-col>
                  
                </ion-row>

                <ion-row>
                    <ion-col col-6>
                          <ion-item >
                            <h4>Shipping</h4>
                           
                            </ion-item>
                    </ion-col>
                    <ion-col col-6>
                    <ion-item style="border-bottom: 1px solid lightgrey">
                            <ion-input type="number" placeholder="Shipping" [(ngModel)]="shippingprice" style="text-align: right" (input)='onShipping($event.target.value)'></ion-input>
                          </ion-item>
                    </ion-col>
                    
                  </ion-row>

                  <ion-row>
                      <ion-col col-6>
                            <ion-item >
                              <h4>Adjustment</h4>
                             
                              </ion-item>
                      </ion-col>
                      <ion-col col-6>
                      <ion-item style="border-bottom: 1px solid lightgrey">
                              <ion-input type="number" placeholder="Adjustment" [(ngModel)]="adjustmentprice" style="text-align: right" (input)='onAdjustment($event.target.value)'></ion-input>
                            </ion-item>
                      </ion-col>
                      
                    </ion-row>

                    <ion-row>
                        <ion-col col-6>
                              <ion-item >
                                <h3>Total</h3>
                               
                                </ion-item>
                        </ion-col>
                        <ion-col col-6>
                        <ion-item>
                                <ion-input type="text" value="{{this.total}}" [(ngModel)]="total" style="text-align: right" [readonly]="isReadonly()"></ion-input>
                              </ion-item>
                        </ion-col>
                        
                      </ion-row>
                  </ion-item>

              </ion-card-content>
          
    
          </ion-card>

          <ion-card>
            <ion-card-content>
                
              <ion-list>

                <ion-item>
                    <ion-textarea clearOnEdit="true" placeholder="Customer Notes" [(ngModel)]="customer_notes"></ion-textarea>
                  
                </ion-item>
              
                <ion-item>
                    <ion-textarea clearOnEdit="true" placeholder="Terms & Conditions" [(ngModel)]="terms_condition"></ion-textarea>
                  
                </ion-item>
              
              </ion-list>
            
                </ion-card-content>
            
      
            </ion-card>
         
          </ion-content>
      
     

